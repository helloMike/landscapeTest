<html>
<head>
    <title>市场数据监控</title>
    <meta charset="utf-8"/>
    <meta name="decorator" content="default" />
    <script src="./jquery-1.8.3.min.js"></script>
    <script src="./echarts.min.js"></script>
    <link rel="stylesheet" href="./numberAnimate.css">
    <link rel="stylesheet" href="./marketdatamonitor.css">
</head>
<body>
<div class="wrapper"></div>
<div class="page-container">
    <div class="top-title">市场数据监控</div>
    <div class="content">
        <div class="left">
            <div class="manager-top-5">
                <div class="content-title"></div>
                <div class="manager-content">
                    <div id="manager-chart" style="width:5rem;height:2.5rem;margin:0 auto;"></div>
                </div>
            </div>
            <div class="price-analyze">
                <div class="price-analyze-container">
                    <div class="content-title"></div>
                    <div class="price-analyze-content">
                        <div class="list price">
                            <div class="list-head">
                                <div class="list-item">
                                    <div class="item">商品名称</div>
                                    <div class="item">平均单价(元)</div>
                                    <div class="item">交易日期</div>
                                </div>
                            </div>
                            <div class="list-body" id="price-analyze">
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">xxxx</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">海带</div>
                                    <div class="item">7.72</div>
                                    <div class="item">2018-09-27</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="middle">
            <div class="money-number">
                <div class="money">
                    <div class="money-container">
                        <div class="left-part">
                            <i class="icon-part icon-money"></i>
                        </div>
                        <div class="right-part">
                            <p class="right-part-title">金额(元)</p>
                            <p id="money-value"></p>
                        </div>
                    </div>
                </div>
                <div class="number">
                    <div class="number-container">
                        <div class="left-part">
                            <i class="icon-part icon-number"></i>
                        </div>
                        <div class="right-part">
                            <p class="right-part-title">数量(条)</p>
                            <p id="number-value"></p>
                        </div>
                    </div>
                </div>
                <i class="corner topL"></i>
                <i class="corner topR"></i>
                <i class="corner bottomL"></i>
                <i class="corner bottomR"></i>
            </div>
            <div class="real-time-trade">
                <div class="content-title">
                    实时交易
                </div>
                <div class="real-time-trade-content">
                    <div class="list real-time">
                        <div class="list-head">
                            <div class="list-item">
                                <div class="item">归属商户</div>
                                <div class="item">销售品名</div>
                                <div class="item">数量(kg)</div>
                                <div class="item">单价(元)</div>
                            </div>
                        </div>
                        <div class="list-body" id="real-time">
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>
                            <div class="list-item">
                                <div class="item">漳州水产贸易公司</div>
                                <div class="item">普通黄瓜</div>
                                <div class="item">0.322</div>
                                <div class="item">3.50</div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="right">
            <div class="product-top-5">
                <div class="content-title"></div>
                <div class="product-content">
                    <table class="product-table" style="width:5rem;height:2.5rem;margin:0 auto;">
                        <thead>
                        <tr>
                            <td>商品名称</td>
                            <td>排行</td>
                            <td>TOP图</td>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>土豆</td>
                            <td>1</td>
                            <td rowspan="5">
                                <div id="product-chart" style="width:3.5rem;height:2.5rem;"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>西红柿</td>
                            <td>2</td>
                        </tr>
                        <tr>
                            <td>鳕鱼</td>
                            <td>3</td>
                        </tr>
                        <tr>
                            <td>花蛤</td>
                            <td>4</td>
                        </tr>
                        <tr>
                            <td>萝卜</td>
                            <td>5</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="detect-analyze">
                <div class="detect-analyze-container">
                    <div class="content-title"></div>
                    <div class="detect-analyze-content">
                        <div class="list detect">
                            <div class="list-head">
                                <div class="list-item">
                                    <div class="item">商户名称</div>
                                    <div class="item">商品名称</div>
                                    <div class="item">检测内容</div>
                                    <div class="item">检测结果</div>
                                </div>
                            </div>
                            <div class="list-body" id="detect-analyze">
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>
                                <div class="list-item">
                                    <div class="item">漳州水产贸易公司</div>
                                    <div class="item">长豆</div>
                                    <div class="item">药物残留</div>
                                    <div class="item">合格</div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="./particle-bg.umd.min.js"></script>
<script type="text/javascript" src="numberAnimate.js"></script>
<script>
    function setRem(){
        var docEl = document.documentElement,
            recalc = function() {
                var clientWidth = docEl.clientWidth;
                if (!clientWidth) return;
                docEl.style.fontSize = 100 * (clientWidth /1920) + 'px';
            };
        if (!document.addEventListener) return;
        recalc()
        window.addEventListener('resize', recalc, false);
        document.addEventListener('DOMContentLoaded', recalc, false);
    }
    function setHeightOfRemain(element,tag){
        var $element = document.querySelector(element)
        var docEl= document.documentElement;
        var clientHeight = docEl.clientHeight;
        if(!clientHeight){
            return ;
        }
        if(tag == 'left' || tag == 'right'){
            var elementHeight = clientHeight - (350 + 50 + 100 + 20 + 100)
            $element.style.height = elementHeight
        }else{
            var elementHeight = clientHeight - (100 + 150 + 100 + 30 + 100)
            $element.style.height = elementHeight
        }
    }
    function pageInit(){
        setRem()
        setHeightOfRemain("#detect-analyze","right")
        setHeightOfRemain("#price-analyze","left")
        setHeightOfRemain("#real-time","middle")
    }
    $(function(){
        pageInit()
        $("#money-value").numberAnimate({num:'1775500', speed:2000, symbol:","});
        $("#number-value").numberAnimate({num:'1775524', speed:2000, symbol:","});
        var productChart = echarts.init(document.getElementById('product-chart'));
        var managerChart = echarts.init(document.getElementById('manager-chart'));
        var data = [7.1, 5.2, 4.8, 3.5, 1.5];
        var xMax = 100;
        var product_option = {
            baseOption:{
                grid:{
                    top:0,
                    left:0,
                    width:'100%',
                    height:'100%'
                },
                tooltip: {
                    show: true,
                    formatter: ""
                },
                xAxis: [{
                    axisTick: {
                        show: false,
                    },
                    axisLine: {
                        show: false,
                    },
                    axisLabel: {
                        show: false
                    },
                    splitLine: {
                        show: false,
                    }
                }],
                yAxis: [{
                    type: 'category',
                    data: ['土豆', '西红柿', '鳕鱼', '花蛤', '萝卜', ],
                    axisTick: {
                        show: false,
                    },
                    axisLine: {
                        show: false,
                    },
                    axisLabel: {
                        show:false
                    }
                }],
                series: [{
                    name: ' ',
                    type: 'bar',
                    barWidth: 16,
                    silent: true,
                    itemStyle: {
                        normal: {
                            color: 'rgba(0,0,0,0.5)',
                            barBorderRadius: [0, 10, 10, 0],
                            borderWidth:'2',
                            borderColor:'#8FB6F6'
                        }

                    },
                    barGap: '-100%',
                    barCategoryGap: '200%',
                    data: data.map(function(d) {
                        return xMax
                    }),
                }, {
                    name: ' ',
                    type: 'bar',
                    barWidth: 16,
                    label: {
                        normal: {
                            show: true,
                            position: 'inside',
                            formatter: '{c}',
                        }
                    },
                    data: [{
                        value: 53,
                        itemStyle: {
                            normal: {
                                barBorderRadius: [0, 10, 10, 0],
                                color: {
                                    type: 'bar',
                                    colorStops: [{
                                        offset: 0,
                                        color: 'rgba(60,119,216,.3)' // 0% 处的颜色
                                    }, {
                                        offset: 1,
                                        color: '#3C77D8' // 100% 处的颜色
                                    }],
                                    globalCoord: false, // 缺省为 false

                                }
                            }
                        }
                    }, {
                        value: 53,
                        itemStyle: {
                            normal: {
                                barBorderRadius: [0, 10, 10, 0],
                                color: {
                                    type: 'bar',
                                    colorStops: [{
                                        offset: 0,
                                        color: 'rgba(11,42,84,.3)' // 0% 处的颜色
                                    }, {
                                        offset: 1,
                                        color: '#b250ff' // 100% 处的颜色
                                    }],
                                    globalCoord: false, // 缺省为 false

                                }
                            }
                        }
                    }, {
                        value: 53,
                        itemStyle: {
                            normal: {
                                barBorderRadius: [0, 10, 10, 0],
                                color: {
                                    type: 'bar',
                                    colorStops: [{
                                        offset: 0,
                                        color: 'rgba(11,42,84,.3)' // 0% 处的颜色
                                    }, {
                                        offset: 1,
                                        color: '#4f9aff' // 100% 处的颜色
                                    }],
                                    globalCoord: false, // 缺省为 false

                                }
                            }
                        }
                    }, {
                        value: 53,
                        itemStyle: {
                            normal: {
                                barBorderRadius: [0, 10, 10, 0],
                                color: {
                                    type: 'bar',
                                    colorStops: [{
                                        offset: 0,
                                        color: 'rgba(11,42,84,.3)' // 0% 处的颜色
                                    }, {
                                        offset: 1,
                                        color: '#4bf3ff' // 100% 处的颜色
                                    }],
                                    globalCoord: false, // 缺省为 false

                                }
                            }

                        }
                    }, {

                        value: 53,
                        itemStyle: {
                            normal: {
                                barBorderRadius: [0, 10, 10, 0],
                                color: {
                                    type: 'bar',
                                    colorStops: [{
                                        offset: 0,
                                        color: 'rgba(11,42,84,.3)' // 0% 处的颜色
                                    }, {
                                        offset: 1,
                                        color: '#ffa800' // 100% 处的颜色
                                    }],
                                    globalCoord: false, // 缺省为 false

                                }
                            }
                        }
                    }],
                }]
            },
            media:[{
                query:{
                    maxWidth:350,
                    maxHeight:185
                },
                option:{}
            }],

        };
        var manager_option = {
            gird:{
              width:'100%',
              height:'80%',
            },
            "tooltip": {
                "trigger": "item",
                "formatter": "{a}<br/>{b}:{c}"
            },
            "title": {
                "text": "经营户排名TOP5",
                "left": "center",
                "top": 0,
                "textStyle": {
                    "color": "#FFF",
                    "fontWeight":'normal'
                }
            },
            "calculable": true,
            "legend": {
                "icon": "circle",
                "x": "center",
                "y": "15%",
                "data": [
                    "王老五",
                    "张飞",
                    "赵龙",
                    "王小二",
                    "老李",
                ],
                "textStyle": {
                    "color": "#fff"
                }
            },
            "series": [{
                "name": "",
                "type": "pie",
                "radius": [
                    37,
                    155
                ],
                "avoidLabelOverlap": false,
                "startAngle": 0,
                "center": [
                    "50.1%",
                    "34%"
                ],
                "roseType": "area",
                "selectedMode": "single",
                "label": {
                    "normal": {
                        "show": true,
                        "formatter": "{c}"
                    },
                    "emphasis": {
                        "show": true
                    }
                },
                "labelLine": {
                    "normal": {
                        "show": true,
                        "smooth": false,
                        "length": 20,
                        "length2": 10
                    },
                    "emphasis": {
                        "show": true
                    }
                },
                "data": [{
                    "value": 100000,
                    "name": "王老五",
                    "itemStyle": {
                        "normal": {
                            "color": "#f845f1"
                        }
                    }
                },
                    {
                        "value": 90000,
                        "name": "张飞",
                        "itemStyle": {
                            "normal": {
                                "color": "#ad46f3"
                            }
                        }
                    },
                    {
                        "value": 80000,
                        "name": "赵龙",
                        "itemStyle": {
                            "normal": {
                                "color": "#5045f6"
                            }
                        }
                    },
                    {
                        "value": 70000,
                        "name": "王小二",
                        "itemStyle": {
                            "normal": {
                                "color": "#4777f5"
                            }
                        }
                    },
                    {
                        "value": 60000,
                        "name": "老李",
                        "itemStyle": {
                            "normal": {
                                "color": "#44aff0"
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    },
                    {
                        "value": 0,
                        "name": "",
                        "itemStyle": {
                            "normal": {
                                "label": {
                                    "show": false
                                },
                                "labelLine": {
                                    "show": false
                                }
                            }
                        }
                    }
                ]
            }]
        };
        productChart.setOption(product_option);
        managerChart.setOption(manager_option);
        window.onresize = function(){
            setHeightOfRemain("#detect-analyze","right")
            setHeightOfRemain("#price-analyze","left")
            setHeightOfRemain("#real-time","middle")
            productChart.resize()
            managerChart.resize()
        }
    })
</script>
</html>
